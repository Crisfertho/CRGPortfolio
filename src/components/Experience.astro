---
import Section from '@/components/Section.astro'

import { work } from 'resume.json'

---

<Section title="Work Experience">

    <ul>
        {work.map(({ name, startDate, endDate, position, summary, url, highlights}) => {
            const startdate = new Date(startDate).toLocaleDateString()
            const enddate = endDate != null ? new Date(endDate).toLocaleDateString() : null
            const date = `${startdate} - ${enddate}`

            return (
                <li>
                    <article>
                        <header>
                            <div>
                                <h3>{name}</h3>
                                <h4>{position}</h4>
                            </div>
                            <time>{date}</time>
                        </header>
                        <footer>
                            <p>{summary}</p>
                        </footer>
                    </article>
                    
                </li>
            )
        })}
    </ul>
    
</Section>

<style>
   li {
    display: flex;
    flex-direction: column;
    gap: 32px;
   }

   article h3 {
    font-weight: 500;
    color: #111;
    margin-bottom: 3px;
    font-size: 1.13rem;
   }

   article h4 {
    color: #222;
    font-weight: 400;
    margin-bottom: 4px;
   }

   header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 4px;
   }

   time {
    color: #777676;
    font-size: 0.80rem;
   }
</style>